

<html>
<head>
<title>FTA Testing</title>
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style type="text/css">
.output{
    margin-top: 20px;
}
</style>
</head>
<body     style="background-color: #ffffff;">
<h1>FTA Testing</h1>
<div class="CurrentFL"></div>
<div class="CurrentPage"></div>

<h4>Page Time :: <label id="minutes">00</label>:<label id="seconds">00</label></h4>

<script type="text/javascript">
var nuanceData = {
        "errors": {
"errorCount":0, 
"errorType":"Failed to enter fields"
  },
  "Journey Completion": "login to MyAviva",
  "campaign": "Example",
  "Contact Name": "Sample, Test",

    "existingPolicies":[{
	  "policyNumber": "PO3243432432",
        "policyPremium": "755.00",
        "policyExcess": "250.00",
        "policyCategory": "Motor",
	},
	{
	  "policyNumber": "HA3243432432",
        "policyPremium": "745.00",
        "policyExcess": "250.00",
        "policyCategory": "Health",
	}],
    "quotesInCart": [{
        "quoteName": "Motor insurance quote",
        "quoteNumber": "QTE086989080",
        "quotePremium": "755.00",
        "quoteMonthlyPayments": "68.84",
        "quoteCategory": "Motor",
        "quoteExcess": "250.00",
        "quoteCompletion": true,
    }],
    "addOnsAddedToCart": [{
            "productName": "Motor Legal cover",
            "productPrice": "29.00",
            "paymentType": "annual"
        },
        {
            "productName": "Standard courtesy car",
            "productPrice": "27.00",
            "paymentType": "annual"
        }
    ],
    "addOnsRemovedToCart": [{
        "productName": "Enhanced courtesy car",
        "productPrice": "34.00",
        "paymentType": "annual"
    }],
    "AppliedDiscounts": "",
    "CurrentCartValue": "755.00",
	"getEmail": "sivaprasad5317@gmail.com",
}
</script>

<script type="text/javascript">



    function getDeviceType() {
        $('.output').empty();
        $('.output').html('<p>Result :: ' + inqFrame.Inq.FlashPeer.getDeviceType() + '</p>');
        console.log(inqFrame.Inq.FlashPeer.getDeviceType());
    }

    function getVitalCookie() {
        $('.output').empty();
        $('.output').html('<p>Result :: ' + inqFrame.Inq.CM.cookies.inqVital._ig + '</p>');
        console.log(inqFrame.Inq.CM.cookies.inqVital._ig);

    }

    function getURL() {
        $('.output').empty();
        $('.output').html('<p>Result :: ' + document.URL + '</p>');
        console.log(document.URL);
    }

    function getAgentString() {
        $('.output').empty();
        $('.output').html('<p>Result :: ' + navigator.userAgent + '</p>');
        console.log(document.URL);
    }


    function getBlockers() {
        $('.output').empty();
        $('.output').html('<p>Result :: ' + JSON.stringify(inqFrame.Inq.CHM.blocked) + '</p>');
        console.log(JSON.stringify(inqFrame.Inq.CHM.blocked));
    }

    function setValue(setName, setValue) {
        $('.output').empty();
        inqFrame.Inq.PM.getVar(setName).z3(setValue);
        $('.output').html('<p><strong>Result SET ::</strong> ' + setName + ' :: ' + inqFrame.Inq.PM.getVar(setName).z0() + '</p>');
        console.log(inqFrame.Inq.PM.getVar(setName).z0());
        $('.output').removeClass('hidden');
        $('.output').show();
        setTimeout(function () { $('.output').hide() }, 5000);
    }

    function getValue() {
        $('.output').empty();
        $('.output').html('<p><strong>Result GET :: </strong>' + inqFrame.Inq.PM.getVar($('.getValue').val()).z0() + '</p>');
        console.log(inqFrame.Inq.PM.getVar($('.getValue').val()).z0());
    }


</script>

<h3>Other Buttons</h3>
<div class="container">
  <div class="row">
    <div class="col">
<button onclick="getDeviceType()" class="btn btn-info">Device</button>
<button onclick="getVitalCookie()" class="btn btn-info">AmIAbleToChat</button>
<button onclick="getURL()" class="btn btn-info">URL</button>
<button onclick="getAgentString()" class="btn btn-info">AgentString</button>
<button onclick="getBlockers()" class="btn btn-info">Blockers</button>
</div>
</div>
</div>
<h3>Set Care Sales </h3>
<div class="container">
  <div class="row">
    <div class="col">
<button onclick="setValue('palceHolder',true)" class="btn btn-info">CARE</button>
<button onclick="setValue('palceHolder',false)" class="btn btn-info">SALES</button>
</div>
</div>
</div>

</div>

<h3>Pages</h3>
<button onclick="Inq.reinitChat(38375801);" class="btn btn-info">Broker</button>
<button onclick="Inq.reinitChat(38213752);" class="btn btn-info">Customer</button>

<h3>DataPass</h3>

<button onclick="addDP()" class="btn btn-info">Add inqCustData Pass</button>

<h3>C2C Containers</h3>
<p>Nuance-chat-anchored</p><div id="Nuance-chat-anchored"></div>

<p>nuanMessagingFrame</p><div id="nuanMessagingFrame"></div>


<script language="javascript" type="text/javascript" charset="utf-8" src="https://fta-preprod.lle.digital.nuance.com/chatskins/launch/inqChatLaunch10006574.js"></script>

<script type="text/javascript">
    setTimeout(
      function () {
          var minutesLabel = document.getElementById("minutes");
          var secondsLabel = document.getElementById("seconds");
          var totalSeconds = 0;
          setInterval(setTime, 1000);

          function setTime() {
              ++totalSeconds;
              secondsLabel.innerHTML = pad(totalSeconds % 60);
              minutesLabel.innerHTML = pad(parseInt(totalSeconds / 60));
          }

          function pad(val) {
              var valString = val + "";
              if (valString.length < 2) {
                  return "0" + valString;
              }
              else {
                  return valString;
              }
          }

      }, 1500);
</script>

<!--Chat Event Notification-->
<script type="text/javascript">

    function isC2CbuttonDisplayed(evt) {
        console.log('*** C2C Displayed has happened :: ' + evt.bizRuleName + ' ***');
        console.log(evt);
    }

    function isC2CButtonClicked(evt) {
        console.log('*** C2C button has been clicked :: ' + evt.bizRuleName + ' ***');
        console.log(evt);
    }

    function isProactiveOverLayDisplayed(evt) {
        console.log('*** chat window shown :: ***');


        if (evt.chatType === "POPUP" && (evt.businessUnitID == 19001116 || evt.businessUnitID == 19001114 || evt.businessUnitID == 19001115 || evt.businessUnitID == 19001106)) {
            console.log('*** SHOWN PROACTIVE OVERLAY ***');
        }
        console.log(evt);
    }

    function hasOnChatEngaged(evt) {
        console.log('*** Chat has now engaged :: ' + evt.bizRuleName + ' ***');
        console.log(evt);
    }

    function isChatClosed(evt) {
        console.log('*** Chat window has now closed :: ' + evt.bizRuleName + ' ***');
        console.log(evt);
    }

    var chatLaunchedListener = {
        onChatLaunched: isProactiveOverLayDisplayed
    };

    var c2cDisplayed = {
        onC2CDisplayed: isC2CbuttonDisplayed
    };

    var c2cClickedListener = {
        onC2CClicked: isC2CButtonClicked
    };

    var chatEngagedListener = {
        onChatEngagedEvent: hasOnChatEngaged
    };

    var chatClosedListener = {
        onChatClosed: isChatClosed
    };

    var InqRegistry = {
        chatListeners: [chatLaunchedListener, chatClosedListener],
        listeners: [c2cDisplayed, c2cClickedListener],
        saleListeners: [chatEngagedListener]
    };

</script>
</body>
</html>